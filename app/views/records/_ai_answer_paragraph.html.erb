<div class="card" style="margin-bottom: 10px;">
  <div class="card-header">
    <div class="row">
      <%# 分段标题 %>
      <div class="col-9">
        <%= tag.span paragraph['title'] %>
      </div>
      <%# 相似度 %>
      <div class="col-3 text-primary" style="text-align: end;">
        <%= tag.span number_to_percentage(paragraph['similarity'] * 100, precision: 4) %>
      </div>
    </div>
  </div>
  <div class="card-body">
    <%# 分段内容 %>
    <%= text_area_tag nil, paragraph['content'], class: 'form-control', style: 'height: 120px; font-size: 0.8rem;'%>
  </div>

  <div class="card-footer">
    <div class="row">
      <div class="col-8">
        <div style="display: flex">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-text" viewBox="0 0 16 16">
            <path d="M5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5"/>
            <path d="M9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.5zm0 1v2A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"/>
          </svg>
          <%# 知识库文档名 %>
          <%= tag.span paragraph['document_name'], class: 'limit-text' %>
        </div>
      </div>
      <div class="col-4" style="text-align: end;">
        <div style="display: flex">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-medical" viewBox="0 0 16 16">
            <path d="M7.5 5.5a.5.5 0 0 0-1 0v.634l-.549-.317a.5.5 0 1 0-.5.866L6 7l-.549.317a.5.5 0 1 0 .5.866l.549-.317V8.5a.5.5 0 1 0 1 0v-.634l.549.317a.5.5 0 1 0 .5-.866L8 7l.549-.317a.5.5 0 1 0-.5-.866l-.549.317zm-2 4.5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 2a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1z"/>
            <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2M9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z"/>
          </svg>
          <%# 知识库名 %>
          <%= tag.span paragraph['dataset_name'], class: 'limit-text' %>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .limit-text {
    width: 100px; /* 设置span标签的宽度，可根据实际需求调整 */
    display: inline-block; /* 让span可以设置宽度等样式，使其按块级元素特性在一行内呈现 */
    white-space: nowrap; /* 规定文本不进行换行 */
    overflow: hidden; /* 超出部分隐藏 */
    text-overflow: ellipsis; /* 当文本溢出时显示省略号 */
    font-size: 0.8rem;
  }
</style>